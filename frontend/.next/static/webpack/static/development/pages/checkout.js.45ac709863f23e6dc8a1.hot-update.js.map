{"version":3,"file":"static/webpack/static/development/pages/checkout.js.45ac709863f23e6dc8a1.hot-update.js","sources":["webpack:///./components/CheckoutForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  state = {\n    complete: false\n  };\n\n  submit = async () => {\n    try {\n      let { token, error } = await this.props.stripe.createToken({\n        name: \"Name\",\n      });\n     \n      if (error) console.log(error);\n      const data = {\n        tokenId: token.id,\n        // products: [{id: , qty: 1}, ]\n        // amount: 1000\n      }\n      let response = await fetch('http://localhost:5000/charge', {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data)\n      });\n      \n      if (response.ok) {\n        console.log(\"payment completed\");\n        this.setState({ complete: true });\n      }\n    } catch (e) {\n      console.log(\"this is the error:\", e);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"checkout\">\n        <p>Would you like to complete the purchase?</p>\n        <CardElement />\n        <button onClick={this.submit}>Send</button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;AAGA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AACA;AAHA;AAAA;AAEA;AAAA;AAIA;AACA;AACA;AAEA;AACA;AAJA;AAPA;AAAA;AAaA;AACA;AAAA;AAAA;AACA;AAHA;AACA;AAbA;AAYA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAtBA;AAAA;AACA;AADA;AAAA;AAAA;AAuBA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AA0BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAxCA;AACA;AA0CA;;;;A","sourceRoot":""}