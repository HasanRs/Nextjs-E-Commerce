{"version":3,"file":"static/webpack/static/development/pages/checkout.js.b3da0778edcaa26abcb8.hot-update.js","sources":["webpack:///./components/CheckoutForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\n\nclass CheckoutForm extends Component {\n  state = {\n    complete: false,\n    productsInCart: this.props.productsInCart // get cart product from checkout page and pass them to the server \n  };\n\n  submit = async () => {\n    try {\n      let { token, error } = await this.props.stripe.createToken({\n        name: \"Name\",\n      });\n     \n      if (error) console.log(error);\n      const data = {\n        tokenId: token.id,\n        productsInCart: this.state.productsInCart\n        // products: [{id: , qty: 1}, ]\n        // amount: 1000\n      }\n      let response = await fetch('http://localhost:5000/charge', {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data)\n      });\n      \n      if (response.ok) {\n        console.log(\"payment completed\");\n        alert(\"payment completed!\")\n        this.setState({ complete: true });\n      }\n    } catch (e) {\n      console.log(\"this is the error:\", e);\n    }\n  };\n\n  sendProductsInCart() {\n    \n  }\n\n  render() {\n    \n    return (\n      <div className=\"checkout\">\n        <p>Would you like to complete the purchase?</p>\n        <CardElement />\n        <button onClick={this.submit}>Send</button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;;;;;AAIA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AACA;AAHA;AAAA;AAEA;AAAA;AAIA;AACA;AACA;AACA;AAEA;AACA;AALA;AAPA;AAAA;AAcA;AACA;AAAA;AAAA;AACA;AAHA;AACA;AAdA;AAaA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAxBA;AAAA;AACA;AADA;AAAA;AAAA;AAyBA;AACA;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AA4BA;;;AAIA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAhDA;AACA;AAkDA;;;;A","sourceRoot":""}