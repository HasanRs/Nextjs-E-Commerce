{"version":3,"file":"static/webpack/static/development/pages/shop.js.3c29a6e9fd6d302d5443.hot-update.js","sources":["webpack:///./pages/shop.js"],"sourcesContent":["import Layout from \"../components/Layout\";\nimport Link from \"next/link\";\nimport React, { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\n\nclass Shop extends Component {\n  static async getInitialProps({ query }) {\n    // 1) get the single VENDOR - API from backend index.js with query params\n    const resVendor = await fetch(\n      `http://localhost:5000/vendor/?vendor_id=${query.vendor_id}`\n    ); \n    const dataVendor = await resVendor.json();\n   \n   // 2) get PRODUCTS of single vendor \n    const resProducts = await fetch(\n      `http://localhost:5000/productsVendor?vendor_id=${query.vendor_id}`\n    ); \n\n  \n    const dataProducts = await resProducts.json();\n \n    return { vendor: dataVendor, productsVendor: dataProducts }; \n  }\n\n  render() {\n    const { vendor } = this.props; // decustructing the object\n    const { productsVendor } = this.props  // decustructing the object\n    console.log(productsVendor)\n\n    return (\n      <Layout>\n        <h1>{vendor.name}</h1>\n        <p>{vendor.desc}</p>\n        <h2>All the products:</h2>\n        {productsVendor.map(product => {\n          return (\n            <div key={product.product_id}>\n              <img src={product.img} width=\"140px\" />\n              <p>{product.name}</p>\n              <Link\n                href={`/product/?product_id=${product.product_id}`}\n              >\n                <a>link</a>\n              </Link>\n            </div>\n          );\n        })}\n      </Layout>\n    );\n  }\n}\n\nexport default Shop;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAmBA;AAAA;AACA;AADA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;;;;;;;;;;;;AA3CA;;AAEA;AACA;;AADA;;AAGA;AACA;;AADA;;AAGA;AACA;;AADA;;AAKA;AACA;;AADA;AAEA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAjBA;AACA;AA8CA;;;;A","sourceRoot":""}